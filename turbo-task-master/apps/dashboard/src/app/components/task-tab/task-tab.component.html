  <div class="w-full max-w-[140rem] mx-auto space-y-8">
    <!-- Task Statistics Cards -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
      <!-- Total Tasks Card -->
      <mat-card class="bg-accent-50 dark:bg-accent-900/20 border-accent-200 dark:border-accent-800 hover:shadow-soft-md transition-all duration-200 rounded-2xl">
        <mat-card-content class="p-6 overflow-visible">
          <div class="flex items-center justify-between overflow-visible">
            <div class="flex-1">
              <p class="text-sm font-semibold text-accent-600 dark:text-accent-400 mb-2">Total Tasks</p>
              <p class="text-3xl font-bold text-accent-900 dark:text-accent-100">{{ getTotalTasks() }}</p>
            </div>
            <div class="p-4 bg-accent-100 dark:bg-accent-900/30 rounded-2xl flex items-center justify-center w-14 h-14 sm:w-16 sm:h-16 overflow-visible shadow-soft">
              <mat-icon fontIcon="assignment" class="text-accent-500 text-2xl sm:text-3xl"></mat-icon>
            </div>
          </div>
        </mat-card-content>
      </mat-card>

      <!-- In Progress Card -->
      <mat-card class="bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-800 hover:shadow-soft-md transition-all duration-200 rounded-2xl">
        <mat-card-content class="p-6 overflow-visible">
          <div class="flex items-center justify-between overflow-visible">
            <div class="flex-1">
              <p class="text-sm font-semibold text-orange-600 dark:text-orange-400 mb-2">In Progress</p>
              <p class="text-3xl font-bold text-orange-900 dark:text-orange-100">{{ getInProgressTasks() }}</p>
            </div>
            <div class="p-4 bg-orange-100 dark:bg-orange-900/30 rounded-2xl flex items-center justify-center w-14 h-14 sm:w-16 sm:h-16 overflow-visible shadow-soft">
              <mat-icon fontIcon="work" class="text-orange-500 text-2xl sm:text-3xl"></mat-icon>
            </div>
          </div>
        </mat-card-content>
      </mat-card>

      <!-- Completed Card -->
      <mat-card class="bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 hover:shadow-soft-md transition-all duration-200 rounded-2xl">
        <mat-card-content class="p-6 overflow-visible">
          <div class="flex items-center justify-between overflow-visible">
            <div class="flex-1">
              <p class="text-sm font-semibold text-green-600 dark:text-green-400 mb-2">Completed</p>
              <p class="text-3xl font-bold text-green-900 dark:text-green-100">{{ getCompletedTasks() }}</p>
            </div>
            <div class="p-4 bg-green-100 dark:bg-green-900/30 rounded-2xl flex items-center justify-center w-14 h-14 sm:w-16 sm:h-16 overflow-visible shadow-soft">
              <mat-icon fontIcon="check_circle" class="text-green-500 text-2xl sm:text-3xl"></mat-icon>
            </div>
          </div>
        </mat-card-content>
      </mat-card>

      <!-- Overdue Card -->
      <mat-card class="bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800 hover:shadow-soft-md transition-all duration-200 rounded-2xl">
        <mat-card-content class="p-6 overflow-visible">
          <div class="flex items-center justify-between overflow-visible">
            <div class="flex-1">
              <p class="text-sm font-semibold text-red-600 dark:text-red-400 mb-2">Overdue</p>
              <p class="text-3xl font-bold text-red-900 dark:text-red-100">{{ getOverdueTasks() }}</p>
            </div>
            <div class="p-4 bg-red-100 dark:bg-red-900/30 rounded-2xl flex items-center justify-center w-14 h-14 sm:w-16 sm:h-16 overflow-visible shadow-soft">
              <mat-icon fontIcon="warning" class="text-red-500 text-2xl sm:text-3xl"></mat-icon>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </div>


    <!-- Task Actions Bar -->
    <mat-card class="shadow-soft border border-neutral-200 dark:border-neutral-700 hover:shadow-soft-md transition-all duration-200 rounded-2xl">
      <mat-card-content class="p-6">
        <div class="flex flex-col xl:flex-row justify-between items-start xl:items-center gap-6">
          <!-- Action Buttons -->
          <div class="flex flex-col sm:flex-row items-stretch sm:items-center gap-4 w-full xl:w-auto">
            <button 
              mat-raised-button 
              color="primary" 
              (click)="openCreateTaskDialog()" 
              [disabled]="isCreateTaskDialogOpen"
              class="w-full sm:w-auto min-w-[160px] h-12 rounded-xl font-semibold"
              [matTooltip]="isCreateTaskDialogOpen ? 'Task form is already open' : 'Create new task - Shortcuts: Ctrl+N, F2, Ctrl+Plus'">
              <mat-icon [fontIcon]="isCreateTaskDialogOpen ? 'edit' : 'add'" class="mr-2"></mat-icon>
              {{ isCreateTaskDialogOpen ? 'Form Open' : 'Create Task' }}
            </button>
            <button 
              mat-stroked-button 
              (click)="refreshTasks()" 
              class="w-full sm:w-auto min-w-[140px] h-12 rounded-xl font-semibold">
              <mat-icon fontIcon="refresh" class="mr-2"></mat-icon>
              Refresh
            </button>
          </div>
          
          <!-- Filters and Search -->
          <div class="flex flex-col sm:flex-row items-stretch sm:items-center gap-4 w-full xl:w-auto">
            <mat-form-field appearance="fill"class="w-full sm:w-52">
              <mat-label>Filter by Priority</mat-label>
              <mat-select [(value)]="selectedPriority" (selectionChange)="filterTasks()">
                <mat-option value="">
                  <div class="flex items-center space-x-2">
                    <mat-icon fontIcon="filter_list" class="text-sm text-neutral-600"></mat-icon>
                    <span class="font-medium">All Priorities</span>
                  </div>
                </mat-option>
                <mat-option value="1">
                  <div class="flex items-center space-x-2">
                    <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                    <span class="font-medium">Low</span>
                  </div>
                </mat-option>
                <mat-option value="2">
                  <div class="flex items-center space-x-2">
                    <div class="w-2 h-2 bg-yellow-500 rounded-full"></div>
                    <span class="font-medium">Medium</span>
                  </div>
                </mat-option>
                <mat-option value="3">
                  <div class="flex items-center space-x-2">
                    <div class="w-2 h-2 bg-orange-500 rounded-full"></div>
                    <span class="font-medium">High</span>
                  </div>
                </mat-option>
                <mat-option value="4">
                  <div class="flex items-center space-x-2">
                    <div class="w-2 h-2 bg-red-500 rounded-full"></div>
                    <span class="font-medium">Urgent</span>
                  </div>
                </mat-option>
              </mat-select>
            </mat-form-field>
            
            <mat-form-field appearance="fill"class="w-full sm:w-52">
              <mat-label>Search Tasks</mat-label>
              <input matInput [(ngModel)]="searchTerm" (input)="filterTasks()" placeholder="Search tasks...">
              <mat-icon matSuffix fontIcon="search" class="text-neutral-500"></mat-icon>
            </mat-form-field>
          </div>
        </div>
      </mat-card-content>
    </mat-card>


    <!-- Main Task Board -->
    <mat-card class="shadow-soft border border-neutral-200 dark:border-neutral-700 w-full min-h-96 hover:shadow-soft-md transition-all duration-200 rounded-2xl">
      <mat-card-header class="pb-6">
        <div class="flex items-center justify-between w-full">
          <mat-card-title class="text-2xl font-semibold flex items-center text-neutral-900 dark:text-white">
            <div class="flex items-center space-x-4">
              <div class="p-3 bg-accent-100 dark:bg-accent-900/30 rounded-2xl shadow-soft">
                <mat-icon fontIcon="dashboard" class="text-accent-600 dark:text-accent-400 text-2xl"></mat-icon>
              </div>
              <div>
                <span>Tasks Board</span>
                <p class="text-sm font-medium text-neutral-600 dark:text-neutral-400 mt-1">
                  Organize your tasks by category and status
                </p>
              </div>
            </div>
          </mat-card-title>
          
          <!-- Keyboard Shortcuts Help -->
          <div class="hidden lg:flex items-center space-x-3 text-xs text-neutral-500 dark:text-neutral-400">
            <div class="flex items-center space-x-2">
              <mat-icon fontIcon="keyboard" class="text-sm"></mat-icon>
              <span class="font-medium">Shortcuts:</span>
              <kbd class="px-2 py-1 bg-neutral-100 dark:bg-neutral-700 rounded text-xs font-mono">Ctrl+N</kbd>
              <kbd class="px-2 py-1 bg-neutral-100 dark:bg-neutral-700 rounded text-xs font-mono">F2</kbd>
              <span class="text-neutral-400">to create task</span>
            </div>
            <div class="flex items-center space-x-2" *ngIf="isCreateTaskDialogOpen">
              <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
              <span class="text-green-600 dark:text-green-400 font-medium">Form Open</span>
            </div>
            <button 
              mat-icon-button 
              (click)="openKeyboardShortcutsHelp()"
              class="text-neutral-400 hover:text-neutral-600 dark:hover:text-neutral-300 transition-colors duration-200"
              matTooltip="View all keyboard shortcuts">
              <mat-icon fontIcon="help_outline" class="text-sm"></mat-icon>
            </button>
          </div>
        </div>
  </mat-card-header>
    <mat-card-content class="pt-0">
      <mat-tab-group 
        animationDuration="200ms" 
        [(selectedIndex)]="selectedTabIndex"
        class="task-tabs">
        <mat-tab>
          <ng-template mat-tab-label>
            <div class="flex items-center space-x-3 px-3 py-2">
              <mat-icon fontIcon="work" class="text-sm text-accent-600"></mat-icon>
              <span class="hidden sm:inline font-semibold">Work</span>
              <span class="bg-accent-100 dark:bg-accent-900 text-accent-800 dark:text-accent-200 text-xs px-3 py-1.5 rounded-full font-semibold">
                {{ getTotalTasksByType('work') }}
              </span>
            </div>
          </ng-template>
          <ng-template matTabContent>
            <div class="mt-4">
        <app-task-board
                [tasksByStatus]="filteredTasks['work']"
                (taskEdit)="onTaskEdit($event)"
                (taskDelete)="onTaskDelete($event)"
                (taskStatusChange)="onTaskStatusChange($event)"
                class="block"
              />
            </div>
          </ng-template>
      </mat-tab>
        
        <mat-tab>
          <ng-template mat-tab-label>
            <div class="flex items-center space-x-3 px-3 py-2">
              <mat-icon fontIcon="person" class="text-sm text-green-600"></mat-icon>
              <span class="hidden sm:inline font-semibold">Personal</span>
              <span class="bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 text-xs px-3 py-1.5 rounded-full font-semibold">
                {{ getTotalTasksByType('personal') }}
              </span>
            </div>
          </ng-template>
          <ng-template matTabContent>
            <div class="mt-4">
        <app-task-board
                [tasksByStatus]="filteredTasks['personal']"
                (taskEdit)="onTaskEdit($event)"
                (taskDelete)="onTaskDelete($event)"
                (taskStatusChange)="onTaskStatusChange($event)"
                class="block"
              />
            </div>
          </ng-template>
      </mat-tab>
        
        <mat-tab>
          <ng-template mat-tab-label>
            <div class="flex items-center space-x-3 px-3 py-2">
              <mat-icon fontIcon="home" class="text-sm text-purple-600"></mat-icon>
              <span class="hidden sm:inline font-semibold">Home</span>
              <span class="bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 text-xs px-3 py-1.5 rounded-full font-semibold">
                {{ getTotalTasksByType('home') }}
              </span>
            </div>
          </ng-template>
          <ng-template matTabContent>
            <div class="mt-4">
        <app-task-board
                [tasksByStatus]="filteredTasks['home']"
                (taskEdit)="onTaskEdit($event)"
                (taskDelete)="onTaskDelete($event)"
                (taskStatusChange)="onTaskStatusChange($event)"
                class="block"
              />
            </div>
          </ng-template>
      </mat-tab>
    </mat-tab-group>
  </mat-card-content>
</mat-card>
</div>
